---
title: GetQueryResults - Amazon Athena
source: https://docs.aws.amazon.com/athena/latest/APIReference/API_GetQueryResults.html
author: 
published: 
created: 2025-01-08
description: Streams the results of a single query execution specified by QueryExecutionId from the Athena query results location in Amazon S3. For more information, see Working with query results, recent queries, and output files in the Amazon Athena User Guide
tags:
  - clippings
  - query
related:
  - "[[Amazon Athena|Athena]]"
  - "[[SQL]]"
---
## GetQueryResults

Streams the results of a single query execution specified by `QueryExecutionId` from the Athena query results location in Amazon S3. For more information, see [Working with query results, recent queries, and output files](https://docs.aws.amazon.com/athena/latest/ug/querying.html) in the *Amazon Athena User Guide*. This request does not execute the query but returns results. Use [StartQueryExecution](https://docs.aws.amazon.com/athena/latest/APIReference/API_StartQueryExecution.html) to run a query.

To stream query results successfully, the IAM principal with permission to call `GetQueryResults` also must have permissions to the Amazon S3 `GetObject` action for the Athena query results location.

###### Important

IAM principals with permission to the Amazon S3 `GetObject` action for the query results location are able to retrieve query results from Amazon S3 even if permission to the `GetQueryResults` action is denied. To restrict user or role access, ensure that Amazon S3 permissions to the Athena query location are denied.

## Request Syntax

```
{
   "MaxResults": number,
   "NextToken": "string",
   "QueryExecutionId": "string"
}
```

## Request Parameters

For information about the parameters that are common to all actions, see [Common Parameters](https://docs.aws.amazon.com/athena/latest/APIReference/CommonParameters.html).

The request accepts the following data in JSON format.

**[MaxResults](https://docs.aws.amazon.com/athena/latest/APIReference/#API_GetQueryResults_RequestSyntax)**

The maximum number of results (rows) to return in this request.

Type: Integer

Valid Range: Minimum value of 1. Maximum value of 1000.

Required: No

**[NextToken](https://docs.aws.amazon.com/athena/latest/APIReference/#API_GetQueryResults_RequestSyntax)**

A token generated by the Athena service that specifies where to continue pagination if a previous request was truncated. To obtain the next set of pages, pass in the `NextToken` from the response object of the previous page call.

Type: String

Length Constraints: Minimum length of 1. Maximum length of 1024.

Required: No

**[QueryExecutionId](https://docs.aws.amazon.com/athena/latest/APIReference/#API_GetQueryResults_RequestSyntax)**

The unique ID of the query execution.

Type: String

Length Constraints: Minimum length of 1. Maximum length of 128.

Pattern: `\S+`

Required: Yes

## Response Syntax

```
{
   "NextToken": "string",
   "ResultSet": { 
      "ResultSetMetadata": { 
         "ColumnInfo": [ 
            { 
               "CaseSensitive": boolean,
               "CatalogName": "string",
               "Label": "string",
               "Name": "string",
               "Nullable": "string",
               "Precision": number,
               "Scale": number,
               "SchemaName": "string",
               "TableName": "string",
               "Type": "string"
            }
         ]
      },
      "Rows": [ 
         { 
            "Data": [ 
               { 
                  "VarCharValue": "string"
               }
            ]
         }
      ]
   },
   "UpdateCount": number
}
```

## Response Elements

If the action is successful, the service sends back an HTTP 200 response.

The following data is returned in JSON format by the service.

**[NextToken](https://docs.aws.amazon.com/athena/latest/APIReference/#API_GetQueryResults_ResponseSyntax)**

A token generated by the Athena service that specifies where to continue pagination if a previous request was truncated. To obtain the next set of pages, pass in the `NextToken` from the response object of the previous page call.

Type: String

Length Constraints: Minimum length of 1. Maximum length of 1024.

**[ResultSet](https://docs.aws.amazon.com/athena/latest/APIReference/#API_GetQueryResults_ResponseSyntax)**

The results of the query execution.

Type: [ResultSet](https://docs.aws.amazon.com/athena/latest/APIReference/API_ResultSet.html) object

**[UpdateCount](https://docs.aws.amazon.com/athena/latest/APIReference/#API_GetQueryResults_ResponseSyntax)**

The number of rows inserted with a `CREATE TABLE AS SELECT`, `INSERT                 INTO`, or `UPDATE` statement.

Type: Long

## Errors

For information about the errors that are common to all actions, see [Common Errors](https://docs.aws.amazon.com/athena/latest/APIReference/CommonErrors.html).

**InternalServerException**

Indicates a platform issue, which may be due to a transient condition or outage.

HTTP Status Code: 500

**InvalidRequestException**

Indicates that something is wrong with the input to the request. For example, a required parameter may be missing or out of range.

HTTP Status Code: 400

**TooManyRequestsException**

Indicates that the request was throttled.

HTTP Status Code: 400

## See Also

For more information about using this API in one of the language-specific AWS SDKs, see the following:

- [AWS Command Line Interface](https://docs.aws.amazon.com/goto/aws-cli/athena-2017-05-18/GetQueryResults)
- [AWS SDK for .NET](https://docs.aws.amazon.com/goto/DotNetSDKV3/athena-2017-05-18/GetQueryResults)
- [AWS SDK for C++](https://docs.aws.amazon.com/goto/SdkForCpp/athena-2017-05-18/GetQueryResults)
- [AWS SDK for Go v2](https://docs.aws.amazon.com/goto/SdkForGoV2/athena-2017-05-18/GetQueryResults)
- [AWS SDK for Java V2](https://docs.aws.amazon.com/goto/SdkForJavaV2/athena-2017-05-18/GetQueryResults)
- [AWS SDK for JavaScript V3](https://docs.aws.amazon.com/goto/SdkForJavaScriptV3/athena-2017-05-18/GetQueryResults)
- [AWS SDK for PHP V3](https://docs.aws.amazon.com/goto/SdkForPHPV3/athena-2017-05-18/GetQueryResults)
- [AWS SDK for Python](https://docs.aws.amazon.com/goto/boto3/athena-2017-05-18/GetQueryResults)
- [AWS SDK for Ruby V3](https://docs.aws.amazon.com/goto/SdkForRubyV3/athena-2017-05-18/GetQueryResults)